(function(){"use strict";var e={2583:function(e,a,l){var t=l(9963),o=l(350),r=l(6252);function s(e,a,l,t,o,s){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var n={},i=l(3744);const d=(0,i.Z)(n,[["render",s]]);var u=d,p=l(2119);const m={class:"container"};function c(e,a,l,o,s,n){const i=(0,r.up)("HeaderForm"),d=(0,r.up)("StepsForm"),u=(0,r.up)("PersonalData"),p=(0,r.up)("SchoolForm"),c=(0,r.up)("OtherForm"),_=(0,r.up)("AccompanyingPerson"),g=(0,r.up)("RouteForm"),f=(0,r.up)("FormEnd"),h=(0,r.up)("el-col"),w=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(i),(0,r._)("main",m,[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(h,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{step:s.step,onGoTo:a[0]||(a[0]=a=>e.goTo(e.item))},null,8,["step"]),(0,r.wy)((0,r.Wm)(u,{onNextStep:n.nextStep},null,8,["onNextStep"]),[[t.F8,0===s.step]]),(0,r.wy)((0,r.Wm)(p,{onNextStep:n.nextStep,onPrevStep:n.prevStep},null,8,["onNextStep","onPrevStep"]),[[t.F8,1===s.step]]),(0,r.wy)((0,r.Wm)(c,{onNextStep:n.nextStep,onPrevStep:n.prevStep},null,8,["onNextStep","onPrevStep"]),[[t.F8,2===s.step]]),(0,r.wy)((0,r.Wm)(_,{onNextStep:n.nextStep,onPrevStep:n.prevStep},null,8,["onNextStep","onPrevStep"]),[[t.F8,3===s.step]]),(0,r.wy)((0,r.Wm)(g,{onNextStep:n.nextStep,onPrevStep:n.prevStep},null,8,["onNextStep","onPrevStep"]),[[t.F8,4===s.step]]),(0,r.Wm)(t.uT,{name:"el-fade-in-linear"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(f,null,null,512),[[t.F8,n.isEnd]])])),_:1})])),_:1})])),_:1})])])}var _=l(8637);const g={href:"https://sdo.mpgu.org/account/login",class:"header_link"};function f(e,a,l,t,o,s){return(0,r.wg)(),(0,r.iD)("a",g,"Вход")}var h={};const w=(0,i.Z)(h,[["render",f]]);var b=w;function W(e,a,l,t,o,s){const n=(0,r.up)("el-step"),i=(0,r.up)("el-steps");return(0,r.wg)(),(0,r.j4)(i,{active:l.step,"align-center":"",class:"steps","finish-status":"success"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{description:"Личные данные участника"}),(0,r.Wm)(n,{description:"Образовательная организация участника"}),(0,r.Wm)(n,{description:"Прочие данные участника"}),(0,r.Wm)(n,{description:"Сопровождающее лицо"}),e.isMoscow?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(n,{key:0,description:"Маршрут"}))])),_:1},8,["active"])}var v={props:["step"],emits:["goTo"],computed:{...(0,_.Se)(["isMoscow"])}};const y=(0,i.Z)(v,[["render",W]]);var E=y;const S={class:"form_container"},V={class:"form_container"},P={class:"form_container"},T={class:"form_container"},O=(0,r._)("div",{class:"el-upload__text"},[(0,r.Uk)(" Перетащите сюда файл или "),(0,r._)("em",null,"кликните")],-1),k=(0,r._)("div",{class:"el-upload__tip"}," jpg/pdf файл не более 10мб ",-1),C={class:"btns"},A=(0,r.Uk)("Далее");function x(e,a,l,t,o,s){const n=(0,r.up)("el-input"),i=(0,r.up)("el-form-item"),d=(0,r.up)("el-col"),u=(0,r.up)("el-row"),p=(0,r.up)("el-radio"),m=(0,r.up)("el-radio-group"),c=(0,r.up)("el-date-picker"),_=(0,r.up)("el-option"),g=(0,r.up)("el-select"),f=(0,r.up)("el-skeleton-item"),h=(0,r.up)("el-skeleton"),w=(0,r.up)("upload-filled"),b=(0,r.up)("el-icon"),W=(0,r.up)("el-upload"),v=(0,r.up)("el-button"),y=(0,r.up)("el-form");return(0,r.wg)(),(0,r.j4)(y,{ref:"userRef","label-position":"top",rules:o.rules,model:o.user,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r._)("div",S,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Фамилия",prop:"surname"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.surname,"onUpdate:modelValue":a[0]||(a[0]=e=>o.user.surname=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Имя",prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.user.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Отчество",prop:"patronymic"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{class:"w-50 m-2",modelValue:o.user.patronymic,"onUpdate:modelValue":a[2]||(a[2]=e=>o.user.patronymic=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Пол",prop:"sex"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.user.sex,"onUpdate:modelValue":a[3]||(a[3]=e=>o.user.sex=e)},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{label:"Мужской"}),(0,r.Wm)(p,{label:"Женский"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Дата рождения",prop:"birthday"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.user.birthday,"onUpdate:modelValue":a[4]||(a[4]=e=>o.user.birthday=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"гггг-мм-дд"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Пароль",prop:"password"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.password,"onUpdate:modelValue":a[5]||(a[5]=e=>o.user.password=e),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Телефон",prop:"phone"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.phone,"onUpdate:modelValue":a[6]||(a[6]=e=>o.user.phone=e),placeholder:"+79000000000"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Email",prop:"email"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.email,"onUpdate:modelValue":a[7]||(a[7]=e=>o.user.email=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Подтвердите пароль",prop:"checkPass"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.checkPass,"onUpdate:modelValue":a[8]||(a[8]=e=>o.user.checkPass=e),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,r._)("div",V,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:8},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Документ, удостоверяющий личность",prop:"type"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{modelValue:o.user.type,"onUpdate:modelValue":a[9]||(a[9]=e=>o.user.type=e),placeholder:"Тип документа"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.user.documentOptions,(e=>((0,r.wg)(),(0,r.j4)(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:5}),(0,r.Wm)(d,{span:5})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Серия",prop:"series"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.series,"onUpdate:modelValue":a[10]||(a[10]=e=>o.user.series=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Номер",prop:"number"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.number,"onUpdate:modelValue":a[11]||(a[11]=e=>o.user.number=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Кем выдан",prop:"authority"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.authority,"onUpdate:modelValue":a[12]||(a[12]=e=>o.user.authority=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Дата выдачи",prop:"date_issue"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.user.date_issue,"onUpdate:modelValue":a[13]||(a[13]=e=>o.user.date_issue=e),type:"date",placeholder:"гггг-мм-дд","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,r._)("div",P,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Регион проживания",prop:"region"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{loading:e.isLoadingBlock,animated:""},{template:(0,r.w5)((()=>[(0,r.Wm)(f,{variant:"h1",style:{width:"70%",height:"30px"}})])),_:1},8,["loading"]),e.isLoadingBlock?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(g,{key:0,filterable:"",modelValue:o.user.region,"onUpdate:modelValue":a[14]||(a[14]=e=>o.user.region=e),placeholder:"Регион проживания"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.regions,((e,a)=>((0,r.wg)(),(0,r.j4)(_,{key:a,label:e,value:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]))])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Район/область",prop:"zone"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.zone,"onUpdate:modelValue":a[15]||(a[15]=e=>o.user.zone=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Город/населенный пункт",prop:"city"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.user.city,"onUpdate:modelValue":a[16]||(a[16]=e=>o.user.city=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1})]),(0,r._)("div",T,[(0,r.Wm)(i,{label:"Загрузите фото (3x4)",prop:"photo"},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{ref:"upload",drag:"",action:"#","auto-upload":!1,"on-change":s.handleChange,limit:1,"on-exceed":s.handleExceed},{tip:(0,r.w5)((()=>[k])),default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"el-icon--upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(w)])),_:1}),O])),_:1},8,["on-change","on-exceed"])])),_:1})]),(0,r._)("div",C,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,{type:"primary",onClick:a[17]||(a[17]=e=>s.onSubmit(this.$refs.userRef))},{default:(0,r.w5)((()=>[A])),_:1})])),_:1})])])),_:1},8,["rules","model"])}l(1703);var j=l(5865),L=l(9996),U={emits:["nextStep"],components:{UploadFilled:j.Z},data(){return{user:{file:"",surname:"",name:"",patronymic:"",sex:"",birthday:"",password:"",checkPass:"",phone:"",email:"",type:"",documentOptions:[{label:"Паспорт",value:"1"},{label:"Cвидетельство о рождении",value:"2"}],series:"",number:"",data_issue:"",authority:"",photo:"",region:"",zone:"",city:""},rules:{surname:[{required:!0,message:"Введите фамилию",trigger:"blur"}],name:[{required:!0,message:"Введите имя",trigger:"blur"}],sex:[{required:!0,message:"Укажите пол",trigger:"blur"}],birthday:[{type:"date",required:!0,message:"Укажите дату рождения",trigger:"change"},{validator:this.validateBirthday,trigger:"change"}],password:[{required:!0,message:"Введите пароль",trigger:"blur"},{validator:this.validatePass,trigger:"blur"}],checkPass:[{required:!0,message:"Повторите пароль",trigger:"blur"},{validator:this.validatePass2,trigger:"blur"}],email:[{required:!0,message:"Введите email",trigger:"blur"},{type:"email",message:"Email некорректный",trigger:"blur"},{validator:this.validateEmail,trigger:"blur"}],phone:[{required:!0,message:"Введите номер телефона"},{validator:this.validatePhone,trigger:"blur"}],type:[{required:!0,message:"Выберите тип документа",trigger:"change"}],region:[{required:!0,message:"Выберите регион",trigger:"change"}],zone:[{required:!0,message:"Выберите район",trigger:"change"}],city:[{required:!0,message:"Выберите город",trigger:"change"}],series:[{required:!0,message:"Введите серию"}],number:[{required:!0,message:"Введите номер"}],authority:[{required:!0,message:"Укажите орган, выдавший документ",trigger:"blur"}],date_issue:[{type:"date",required:!0,message:"Укажите дату выдачи",trigger:"change"},{validator:this.validateBirthday,trigger:"change"}],photo:[{required:!0,message:"Загрузите фото",trigger:"blur"},{validator:this.validatePhoto,trigger:"blur"}]}}},created(){this.GET_REGIONS(),this.GET_EMAIL()},computed:{...(0,_.Se)(["regions","isLoadingBlock"])},methods:{...(0,_.nv)(["SET_PESONAL_DATA","GET_REGIONS","GET_EMAIL","GET_PHONE"]),validateEmail(e,a,l){this.GET_EMAIL(a).then((e=>{e.data.success_message?l():((0,L.bM)({title:"Ошибка",message:`${JSON.parse(e.data.error_message).email}`,type:"error"}),l(new Error("Email уже существует")))}))},validatePhone(e,a,l){this.GET_PHONE(a).then((e=>{e.data.success_message?l():((0,L.bM)({title:"Ошибка",message:`${JSON.parse(e.data.error_message).phone}`,type:"error"}),l(new Error("Телефон уже существует")))}))},validateBirthday(e,a,l){const t=new Date,o=new Date(a);t<o||t.getDate()===o.getDate()?l(new Error("Некорректная дата")):l()},validatePass(e,a,l){a.length<6?l(new Error("Должно быть минимум 6 символов")):l()},validatePass2(e,a,l){""===a?l(new Error("Подтвердите пароль")):a!==this.user.password?l(new Error("Пароли не совпадают")):l()},validatePhoto(e,a,l){const t=this.user.photo.size,o=this.user.photo.type;o.includes("jpeg")||o.includes("jpg")||o.includes("pdf")?t/Math.pow(1e3,2)>10?l(new Error("Файл должен быть не более 10мб")):l():l(new Error("Файл должен быть в формате jpg или pdf"))},handleExceed(e){this.$refs.upload.clearFiles(),this.$refs.upload.handleStart(e[0])},handleChange(e){this.user.photo="",this.user.photo=e.raw},onSubmit(e){const a={user:{surname:this.user.surname,name:this.user.name,patronymic:this.user.patronymic,sex:"Мужской"===this.user.sex?"1":"2",phone:this.user.phone,birthday:this.user.birthday,email:this.user.email,password:this.user.password},document:{type:this.user.type,series:this.user.series,number:this.user.number,date_issue:this.user.date_issue,authority:this.user.authority},address:{region:this.user.region,zone:this.user.zone,city:this.user.city},photo:this.user.photo};e&&e.validate((e=>{if(!e)return!1;this.SET_PESONAL_DATA(a),this.$emit("nextStep")}))}}};const R=(0,i.Z)(U,[["render",x]]);var q=R;const D={class:"form_container"},M={class:"form_container"},F={class:"form_container"},I={class:"btns"},N=(0,r.Uk)("Далее"),z=(0,r.Uk)("Назад");function $(e,a,l,t,o,s){const n=(0,r.up)("el-input"),i=(0,r.up)("el-form-item"),d=(0,r.up)("el-col"),u=(0,r.up)("el-row"),p=(0,r.up)("el-option"),m=(0,r.up)("el-select"),c=(0,r.up)("el-button"),_=(0,r.up)("el-form");return(0,r.wg)(),(0,r.j4)(_,{ref:"schoolRef","label-position":"top",rules:o.rules,model:o.school,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r._)("div",D,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Полное название образовательное организации",prop:"full_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.full_name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.school.full_name=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Сокращенное название образовательной организации",prop:"short_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.short_name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.school.short_name=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1})]),(0,r._)("div",M,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Статус участника олимпиады",prop:"status_olympic"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.school.status_olympic,"onUpdate:modelValue":a[2]||(a[2]=e=>o.school.status_olympic=e),placeholder:"Статус участника"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.school.statusOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Количество баллов",prop:"mark_olympic"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.mark_olympic,"onUpdate:modelValue":a[3]||(a[3]=e=>o.school.mark_olympic=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:11},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Класс, в котором обучается участник",prop:"grade_number"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.school.grade_number,"onUpdate:modelValue":a[4]||(a[4]=e=>o.school.grade_number=e),placeholder:"Класс",style:{marginRight:"20px"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.school.classOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(d,{span:5},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{filterable:"",modelValue:o.school.grade_letter,"onUpdate:modelValue":a[5]||(a[5]=e=>o.school.grade_letter=e),placeholder:"Литер"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.school.letterOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:11},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Класс, за который выступает участник",prop:"grade_performs"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.school.grade_performs,"onUpdate:modelValue":a[6]||(a[6]=e=>o.school.grade_performs=e),placeholder:"Класс",style:{marginRight:"20px"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.school.classOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(d,{span:5})])),_:1})])),_:1}),(0,r.Wm)(d,{span:6}),(0,r.Wm)(d,{span:6})])),_:1})]),(0,r._)("div",F,[(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Фамилия, имя и отчество наставника, подготовившего участника олимпиады ",prop:"fio_teacher"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.fio_teacher,"onUpdate:modelValue":a[7]||(a[7]=e=>o.school.fio_teacher=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Место работы",prop:"place_work"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.place_work,"onUpdate:modelValue":a[8]||(a[8]=e=>o.school.place_work=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Должность",prop:"post"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.school.post,"onUpdate:modelValue":a[9]||(a[9]=e=>o.school.post=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Ученая степень",prop:"academic_degree"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.school.academic_degree,"onUpdate:modelValue":a[10]||(a[10]=e=>o.school.academic_degree=e),placeholder:"Ученая степень"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.school.degreeOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1})]),(0,r._)("div",I,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"primary",onClick:a[11]||(a[11]=e=>s.onSubmit(this.$refs.schoolRef))},{default:(0,r.w5)((()=>[N])),_:1})])),_:1}),(0,r.Wm)(c,{class:"btns_prev",type:"primary",plain:"",onClick:a[12]||(a[12]=a=>e.$emit("prevStep"))},{default:(0,r.w5)((()=>[z])),_:1})])])),_:1},8,["rules","model"])}var H={emits:["nextStep","prevStep"],data(){return{school:{full_name:"",short_name:"",status_olympic:"",mark_olympic:"",grade_number:"",grade_letter:"",grade_performs:"",fio_teacher:"",place_work:"",post:"",academic_degree:"",statusOptions:[{label:"Прошел по баллам в 2022 году",value:"1"},{label:"По квоте субъекта РФ в 2022 году",value:"2"},{label:"Прошел по баллам в 2021 году",value:"3"}],classOptions:[{label:"9",value:"9"},{label:"10",value:"10"},{label:"11",value:"11"}],letterOptions:[{label:"-",value:"-"},{label:"А",value:"А"},{label:"Б",value:"Б"},{label:"В",value:"В"},{label:"Г",value:"Г"},{label:"Д",value:"Д"},{label:"Е",value:"Е"},{label:"Ж",value:"Ж"},{label:"З",value:"З"},{label:"И",value:"И"},{label:"Й",value:"Й"},{label:"К",value:"К"},{label:"Л",value:"Л"},{label:"М",value:"М"},{label:"Н",value:"Н"},{label:"О",value:"О"},{label:"П",value:"П"},{label:"Р",value:"Р"},{label:"С",value:"С"},{label:"Т",value:"Т"},{label:"У",value:"У"},{label:"Ф",value:"Ф"},{label:"Х",value:"Х"},{label:"Ц",value:"Ц"},{label:"Ч",value:"Ч"},{label:"Ш",value:"Ш"},{label:"Щ",value:"Щ"},{label:"Ъ",value:"Ъ"},{label:"Ы",value:"Ы"},{label:"Ь",value:"Ь"},{label:"Э",value:"Э"},{label:"Ю",value:"Ю"},{label:"Я",value:"Я"}],degreeOptions:[{label:"Нет степени",value:"1"},{label:"Кандидат наук",value:"2"},{label:"Доктор наук",value:"3"}]},rules:{fio_teacher:[{required:!0,message:"Укажите данные",trigger:"blur"}],place_work:[{required:!0,message:"Укажите данные",trigger:"blur"}],post:[{required:!0,message:"Укажите данные",trigger:"blur"}],academic_degree:[{required:!0,message:"Укажите данные",trigger:"blur"}],full_name:[{required:!0,message:"Укажите полное название",trigger:"blur"}],short_name:[{required:!0,message:"Укажите сокращенное название",trigger:"blur"}],status_olympic:[{required:!0,message:"Укажите статус",trigger:"blur"}],grade_number:[{required:!0,validator:this.gradeNumLet,trigger:"blur"}],grade_letter:[{required:!0,message:"Укажите букву",trigger:"blur"}],grade_performs:[{required:!0,message:"Укажите класс",trigger:"blur"}],mark_olympic:[{required:!0,message:"Введите количество баллов"},{type:"number",message:"Допускаются только цифры"}]}}},methods:{...(0,_.nv)(["SET_SCHOOL"]),gradeNumLet(e,a,l){""===this.school.grade_number||""===this.school.grade_letter?l(new Error("Укажите класс")):l()},onSubmit(e){const a={school:{full_name:this.school.full_name,short_name:this.school.short_name,status_olympic:this.school.status_olympic,mark_olympic:this.school.mark_olympic.toString(),grade_number:this.school.grade_number,grade_letter:this.school.grade_letter,grade_performs:this.school.grade_performs,fio_teacher:this.school.fio_teacher,place_work:this.school.place_work,post:this.school.post,academic_degree:this.school.academic_degree}};e&&e.validate((e=>{if(!e)return!1;this.SET_SCHOOL(a),this.$emit("nextStep")}))}}};const G=(0,i.Z)(H,[["render",$]]);var Y=G;const B={class:"form_container"},Z=(0,r._)("p",{class:"other_label"}," Есть ли аллергия на продукты питания и/или медицинские препараты? ",-1),K=(0,r._)("p",{class:"other_label"}," Относится ли участник к категории обучающихся с ОВЗ и/или инвалидностью? ",-1),J=(0,r._)("p",{class:"other_label"}," Нуждается ли участник в специальных условиях при организации олимпиады? ",-1),X={class:"form_container"},Q=(0,r.Uk)(" Скачать шаблон "),ee=(0,r._)("div",{class:"el-upload__text"},[(0,r.Uk)(" Перетащите сюда файл или "),(0,r._)("em",null,"кликните")],-1),ae=(0,r._)("div",{class:"el-upload__tip"}," jpg/pdf файл не более 10мб ",-1),le={class:"btns"},te=(0,r.Uk)("Далее"),oe=(0,r.Uk)("Назад");function re(e,a,l,t,o,s){const n=(0,r.up)("el-option"),i=(0,r.up)("el-select"),d=(0,r.up)("el-form-item"),u=(0,r.up)("el-col"),p=(0,r.up)("el-row"),m=(0,r.up)("el-switch"),c=(0,r.up)("el-input"),_=(0,r.up)("download"),g=(0,r.up)("el-icon"),f=(0,r.up)("upload-filled"),h=(0,r.up)("el-upload"),w=(0,r.up)("el-button"),b=(0,r.up)("el-form");return(0,r.wg)(),(0,r.j4)(b,{ref:"additionalRef","label-position":"top",rules:o.rules,model:o.additional,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r._)("div",B,[(0,r.Wm)(p,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{label:"Размер футболки",prop:"size"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.additional.size,"onUpdate:modelValue":a[0]||(a[0]=e=>o.additional.size=e),placeholder:"Размер"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.additional.sizeOptions,(e=>((0,r.wg)(),(0,r.j4)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(u,{span:6}),(0,r.Wm)(u,{span:6})])),_:1}),(0,r.Wm)(p,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:12},{default:(0,r.w5)((()=>[Z])),_:1}),(0,r.Wm)(u,{span:2},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.additional.is_allergy,"onUpdate:modelValue":a[1]||(a[1]=e=>o.additional.is_allergy=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),o.additional.is_allergy?((0,r.wg)(),(0,r.j4)(p,{key:0,class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{label:"Укажите на какие именно продукты и медицинские препараты есть аллергия:",prop:"note_allergy"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.additional.note_allergy,"onUpdate:modelValue":a[2]||(a[2]=e=>o.additional.note_allergy=e),type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:12},{default:(0,r.w5)((()=>[K])),_:1}),(0,r.Wm)(u,{span:2},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.additional.is_voz,"onUpdate:modelValue":a[3]||(a[3]=e=>o.additional.is_voz=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(p,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:12},{default:(0,r.w5)((()=>[J])),_:1}),(0,r.Wm)(u,{span:2},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.additional.is_need_conditions,"onUpdate:modelValue":a[4]||(a[4]=e=>o.additional.is_need_conditions=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),o.additional.is_need_conditions?((0,r.wg)(),(0,r.j4)(p,{key:1,class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{label:"Укажите какие именно условия необходимо предоставить:",prop:"note_conditions"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.additional.note_conditions,"onUpdate:modelValue":a[5]||(a[5]=e=>o.additional.note_conditions=e),type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{label:"Особые сведения (непереносимость медицинских препаратов, хронический заболевания, о которых необходимо знать организаторам)"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.additional.note_special,"onUpdate:modelValue":a[6]||(a[6]=e=>o.additional.note_special=e),type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,r._)("div",X,[(0,r._)("span",{class:"download_link",onClick:a[7]||(a[7]=(...e)=>s.downloadFile&&s.downloadFile(...e))},[Q,(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_)])),_:1})]),(0,r.Wm)(d,{label:"Загрузите файл согласия на передачу и обработку персональных данных участника",prop:"photo"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{ref:"upload",drag:"",action:"#","auto-upload":!1,"on-change":s.handleChange,limit:1,"on-exceed":s.handleExceed},{tip:(0,r.w5)((()=>[ae])),default:(0,r.w5)((()=>[(0,r.Wm)(g,{class:"el-icon--upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(f)])),_:1}),ee])),_:1},8,["on-change","on-exceed"])])),_:1})]),(0,r._)("div",le,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{type:"primary",onClick:a[8]||(a[8]=e=>s.onSubmit(this.$refs.additionalRef))},{default:(0,r.w5)((()=>[te])),_:1})])),_:1}),(0,r.Wm)(w,{class:"btns_prev",type:"primary",plain:"",onClick:a[9]||(a[9]=a=>e.$emit("prevStep"))},{default:(0,r.w5)((()=>[oe])),_:1})])])),_:1},8,["rules","model"])}var se=l(1469),ne=l(8519),ie={emits:["nextStep","prevStep"],components:{UploadFilled:j.Z,Download:se.Z},data(){return{additional:{size:"",is_allergy:0,note_allergy:"",is_voz:0,is_need_conditions:0,note_conditions:"",note_special:"",agree_file:"",sizeOptions:[{label:"S",value:"S"},{label:"M",value:"M"},{label:"L",value:"L"},{label:"XL",value:"XL"}]},rules:{size:[{required:!0,message:"Выберите размер",trigger:"change"}],note_allergy:[{validator:this.allergyVal,trigger:"blur"}],note_conditions:[{validator:this.conditionsVal,trigger:"blur"}],photo:[{validator:this.validatePhoto,trigger:"blur"}]}}},methods:{...(0,_.nv)(["SET_ADDITIONAL"]),allergyVal(e,a,l){""===a&&this.additional.is_allergy?l(new Error("Укажите данные")):l()},conditionsVal(e,a,l){""===a&&this.additional.is_need_conditions?l(new Error("Укажите данные")):l()},downloadFile(){const e=new ne.kH;e.text("Hello world!",15,15),e.save("output.pdf")},validatePhoto(e,a,l){const t=this.additional.agree_file.size,o=this.additional.agree_file.type;t?o.includes("jpeg")||o.includes("jpg")||o.includes("pdf")?t/Math.pow(1e3,2)>10?l(new Error("Файл должен быть не более 10мб")):l():l(new Error("Файл должен быть в формате jpg или pdf")):l(new Error("Загрузите файл"))},handleExceed(e){this.$refs.upload.clearFiles(),this.$refs.upload.handleStart(e[0])},handleChange(e){this.additional.agree_file="",this.additional.agree_file=e.raw},onSubmit(e){const a={additional:{size:this.additional.size,is_allergy:this.additional.is_allergy?"1":"0",note_allergy:this.additional.note_allergy,is_voz:this.additional.is_voz?"1":"0",is_need_conditions:this.additional.is_need_conditions?"1":"0",note_conditions:this.additional.note_conditions,note_special:this.additional.note_special},agree_file:this.additional.agree_file};(e||!this.additional.is_need_conditions&&!this.additional.is_allergy)&&e.validate((e=>{if(!e)return!1;this.SET_ADDITIONAL(a),this.$emit("nextStep")}))}}};const de=(0,i.Z)(ie,[["render",re]]);var ue=de;const pe={class:"form_container"},me=(0,r.Uk)("Выбрать"),ce=(0,r.Uk)("Отменить выбор"),_e=(0,r._)("p",{class:"other_label"}," В списке нет сопровождающего лица? ",-1),ge={key:0,class:"form_container"},fe=(0,r._)("h3",{class:"form_subtitle"},"Данные сопровождающего лица",-1),he=(0,r.Uk)(" Скачать шаблон "),we=(0,r._)("div",{class:"el-upload__text"},[(0,r.Uk)(" Перетащите сюда файл или "),(0,r._)("em",null,"кликните")],-1),be=(0,r._)("div",{class:"el-upload__tip"}," jpg/pdf файл не более 10мб ",-1),We=(0,r.Uk)("Добавить"),ve={class:"btns"},ye=(0,r.Uk)("Далее"),Ee=(0,r.Uk)("Завершить регистрацию"),Se=(0,r.Uk)("Назад");function Ve(e,a,l,t,o,s){const n=(0,r.up)("el-table-column"),i=(0,r.up)("el-input"),d=(0,r.up)("el-button"),u=(0,r.up)("el-table"),p=(0,r.up)("el-pagination"),m=(0,r.up)("el-form-item"),c=(0,r.up)("el-col"),_=(0,r.up)("el-row"),g=(0,r.up)("el-switch"),f=(0,r.up)("el-radio"),h=(0,r.up)("el-radio-group"),w=(0,r.up)("el-date-picker"),b=(0,r.up)("download"),W=(0,r.up)("el-icon"),v=(0,r.up)("upload-filled"),y=(0,r.up)("el-upload"),E=(0,r.up)("el-form"),S=(0,r.Q2)("loading");return(0,r.wy)(((0,r.wg)(),(0,r.j4)(E,{ref:"additionalRef","label-position":"top",rules:o.rules,model:o.accPerson,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r._)("div",pe,[(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:20},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Выберите из списка сопровождающее лицо",prop:"person"},{default:(0,r.w5)((()=>[(0,r.wy)(((0,r.wg)(),(0,r.j4)(u,{data:s.filterTableData.slice(s.currentIndex,s.currentIndex+o.pageSize),style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{label:"ФИО",prop:"fio",width:"350"}),(0,r.Wm)(n,{label:"Должность/родитель",prop:"post",width:"250"}),(0,r.Wm)(n,{align:"center"},{header:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.searchFIO,"onUpdate:modelValue":a[0]||(a[0]=e=>o.searchFIO=e),size:"small",placeholder:"Введите ФИО"},null,8,["modelValue"])])),default:(0,r.w5)((e=>[-1===o.accPerson.accompanying_persons.list.indexOf(e.row.id)?((0,r.wg)(),(0,r.j4)(d,{key:0,size:"small",type:"primary",onClick:a=>s.handleAdd(e.$index,e.row)},{default:(0,r.w5)((()=>[me])),_:2},1032,["onClick"])):(0,r.kq)("",!0),o.accPerson.accompanying_persons.list.indexOf(e.row.id)>-1?((0,r.wg)(),(0,r.j4)(d,{key:1,size:"small",type:"primary",plain:"",onClick:a=>s.handleDelete(e.$index,e.row)},{default:(0,r.w5)((()=>[ce])),_:2},1032,["onClick"])):(0,r.kq)("",!0)])),_:1})])),_:1},8,["data"])),[[S,e.isLoadingBlock]]),(0,r.Wm)(p,{small:"",background:"",layout:"prev, pager, next",style:{marginTop:"40px"},total:s.totalItems,currentPage:o.currentPage,"onUpdate:currentPage":a[1]||(a[1]=e=>o.currentPage=e),"page-size":o.pageSize,"onUpdate:page-size":a[2]||(a[2]=e=>o.pageSize=e)},null,8,["total","currentPage","page-size"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:12},{default:(0,r.w5)((()=>[_e])),_:1}),(0,r.Wm)(c,{span:2},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{modelValue:o.isAdd,"onUpdate:modelValue":a[3]||(a[3]=e=>o.isAdd=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})]),o.isAdd?((0,r.wg)(),(0,r.iD)("div",ge,[fe,(0,r.Wm)(E,{ref:"additionalAddRef","label-position":"top",rules:o.rules,model:o.accPersonAdd,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Фамилия, имя, отчество",prop:"fio"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.fio,"onUpdate:modelValue":a[4]||(a[4]=e=>o.accPersonAdd.fio=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:3})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Пол",prop:"sex"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{modelValue:o.accPersonAdd.sex,"onUpdate:modelValue":a[5]||(a[5]=e=>o.accPersonAdd.sex=e)},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{label:"Мужской"}),(0,r.Wm)(f,{label:"Женский"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Дата рождения",prop:"birthday"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:o.accPersonAdd.birthday,"onUpdate:modelValue":a[6]||(a[6]=e=>o.accPersonAdd.birthday=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"гггг-мм-дд"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:6})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Телефон",prop:"phone"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.phone,"onUpdate:modelValue":a[7]||(a[7]=e=>o.accPersonAdd.phone=e),placeholder:"+79000000000"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:6},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Email",prop:"email"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.email,"onUpdate:modelValue":a[8]||(a[8]=e=>o.accPersonAdd.email=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:6})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Место рождения",prop:"place_birth"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.place_birth,"onUpdate:modelValue":a[9]||(a[9]=e=>o.accPersonAdd.place_birth=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:3})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Место работы",prop:"place_work"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.place_work,"onUpdate:modelValue":a[10]||(a[10]=e=>o.accPersonAdd.place_work=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:3})])),_:1}),(0,r.Wm)(_,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{label:"Должность",prop:"post"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:o.accPersonAdd.post,"onUpdate:modelValue":a[11]||(a[11]=e=>o.accPersonAdd.post=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(c,{span:3})])),_:1}),(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r._)("span",{class:"download_link",onClick:a[12]||(a[12]=(...e)=>s.downloadFile&&s.downloadFile(...e))},[he,(0,r.Wm)(W,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b)])),_:1})]),(0,r.Wm)(m,{label:"Загрузите файл согласия на передачу и обработку персональных данных сопровождающего лица",prop:"photo"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{ref:"upload",drag:"",action:"#","auto-upload":!1,"on-change":s.handleChange,limit:1,"on-exceed":s.handleExceed},{tip:(0,r.w5)((()=>[be])),default:(0,r.w5)((()=>[(0,r.Wm)(W,{class:"el-icon--upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(v)])),_:1}),we])),_:1},8,["on-change","on-exceed"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{type:"primary",plain:"",onClick:a[13]||(a[13]=e=>s.addAccPer(this.$refs.additionalAddRef)),style:{marginTop:"20px"},loading:e.isLoadingPostReq},{default:(0,r.w5)((()=>[We])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["rules","model"])])):(0,r.kq)("",!0),(0,r._)("div",ve,[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[e.isMoscow?((0,r.wg)(),(0,r.j4)(d,{key:1,type:"primary",onClick:a[15]||(a[15]=a=>s.onSubmit(this.$refs.additionalRef,e.isMoscow))},{default:(0,r.w5)((()=>[Ee])),_:1})):((0,r.wg)(),(0,r.j4)(d,{key:0,type:"primary",onClick:a[14]||(a[14]=a=>s.onSubmit(this.$refs.additionalRef,e.isMoscow))},{default:(0,r.w5)((()=>[ye])),_:1}))])),_:1}),(0,r.Wm)(d,{class:"btns_prev",type:"primary",plain:"",onClick:a[16]||(a[16]=a=>e.$emit("prevStep"))},{default:(0,r.w5)((()=>[Se])),_:1})])])),_:1},8,["rules","model"])),[[S,e.isLoadingPostReq]])}var Pe={components:{UploadFilled:j.Z,Download:se.Z},emits:["nextStep","prevStep"],data(){return{accPerson:{accompanying_persons:{list:[]}},accPersonAdd:{fio:"",sex:"",birthday:"",place_birth:"",phone:"",email:"",place_work:"",post:"",agree_file:""},isAdd:!1,searchFIO:"",searchPhone:"",searchEmail:"",pageSize:20,currentPage:1,rules:{person:[{validator:this.validatePerson,trigger:"change"}],fio:[{required:!0,message:"Укажите данные",trigger:"blur"}],sex:[{required:!0,message:"Укажите данные",trigger:"blur"}],birthday:[{required:!0,message:"Укажите данные",trigger:"blur"},{validator:this.validateBirthday,trigger:"change"}],email:[{required:!0,message:"Введите email",trigger:"blur"},{type:"email",message:"Email некорректный",trigger:"blur"},{validator:this.validateEmail,trigger:"blur"}],phone:[{required:!0,message:"Введите номер телефона"},{validator:this.validatePhone,trigger:"blur"}],place_birth:[{required:!0,message:"Укажите данные",trigger:"blur"}],place_work:[{required:!0,message:"Укажите данные",trigger:"blur"}],post:[{required:!0,message:"Укажите данные",trigger:"blur"}],photo:[{validator:this.validatePhoto,trigger:"blur"}]}}},computed:{...(0,_.Se)(["accList","isLoadingPostReq","isLoadingBlock","isMoscow"]),totalItems(){return this.filterTableData.length},filterTableData(){const e=this.accList.filter((e=>(!this.searchFIO||e.fio.toLowerCase().includes(this.searchFIO.toLowerCase()))&&(!this.searchPhone||e.phone.toLowerCase().includes(this.searchPhone.toLowerCase()))&&(!this.searchEmail||e.email.toLowerCase().includes(this.searchEmail.toLowerCase()))));return e},currentIndex(){return(this.currentPage-1)*this.pageSize}},created(){this.GET_ACC_PER()},methods:{...(0,_.nv)(["GET_ACC_PER","POST_ACC_PER","SET_ACCOMP_PEOPLE","POST_REGISTER","POST_FILES","GET_EMAIL","GET_PHONE"]),validatePerson(e,a,l){this.accPerson.accompanying_persons.list.length?l():l(new Error("Выберите сопровождающего"))},validateBirthday(e,a,l){const t=new Date,o=new Date(a);t<o||t.getDate()===o.getDate()?l(new Error("Некорректная дата")):l()},addAccPer(e){const a=new FormData;a.append("fio",this.accPersonAdd.fio),a.append("sex","Мужской"===this.accPersonAdd.sex?"1":"2"),a.append("birthday",this.accPersonAdd.birthday),a.append("place_birth",this.accPersonAdd.place_birth),a.append("phone",this.accPersonAdd.phone),a.append("email",this.accPersonAdd.email),a.append("place_work",this.accPersonAdd.place_work),a.append("post",this.accPersonAdd.post),a.append("agree_file",this.accPersonAdd.agree_file),e&&e.validate((e=>{if(!e)return!1;this.POST_ACC_PER(a).then((e=>{if(e.data.error_message){const a=JSON.parse(e.data.error_message);for(let e in a)(0,L.bM)({title:"Ошибка",message:`${a[e]}`,type:"Ошибка"})}else(0,L.bM)({title:"Готово!",message:"Новое сопровождающее лицо добавлено. Выберите его из списка",type:"success"}),this.GET_ACC_PER();this.isAdd=!1}))}))},handleAdd(e,a){-1===this.accPerson.accompanying_persons.list.indexOf(a.id)&&this.accPerson.accompanying_persons.list.push(a.id)},handleDelete(e,a){const l=this.accPerson.accompanying_persons.list.indexOf(a.id);this.accPerson.accompanying_persons.list.splice(l,1)},downloadFile(){const e=new ne.kH;e.text("Hello world!",15,15),e.save("output.pdf")},validateEmail(e,a,l){this.GET_EMAIL(a).then((e=>{e.data.success_message?l():((0,L.bM)({title:"Ошибка",message:`${JSON.parse(e.data.error_message).email}`,type:"error"}),l(new Error("Email уже существует")))}))},validatePhone(e,a,l){this.GET_PHONE(a).then((e=>{e.data.success_message?l():((0,L.bM)({title:"Ошибка",message:`${JSON.parse(e.data.error_message).phone}`,type:"error"}),l(new Error("Телефон уже существует")))}))},validatePhoto(e,a,l){const t=this.accPersonAdd.agree_file.size,o=this.accPersonAdd.agree_file.type;t?o.includes("jpeg")||o.includes("jpg")||o.includes("pdf")?t/Math.pow(1e3,2)>10?l(new Error("Файл должен быть не более 10мб")):l():l(new Error("Файл должен быть в формате jpg или pdf")):l(new Error("Загрузите файл"))},handleExceed(e){this.$refs.upload.clearFiles(),this.$refs.upload.handleStart(e[0])},handleChange(e){this.accPersonAdd.agree_file="",this.accPersonAdd.agree_file=e.raw},onSubmit(e,a){e&&e.validate((e=>{if(!e||!this.accPerson.accompanying_persons.list.length)return!1;{const e={list:this.accPerson.accompanying_persons.list};this.SET_ACCOMP_PEOPLE(e),a?this.POST_REGISTER().then((e=>{if(e.data.error_message){const a=JSON.parse(e.data.error_message);for(let e in a)(0,L.bM)({title:"Ошибка",message:`${a[e]}`,type:"error"})}else this.POST_FILES(e.data.hash).then((()=>{(0,L.bM)({title:"Готово!",message:"Подтвердите почту",type:"success"})})),this.$emit("nextStep")})):this.$emit("nextStep")}}))}}};const Te=(0,i.Z)(Pe,[["render",Ve]]);var Oe=Te;const ke=(0,r._)("div",{class:"form_container"},[(0,r._)("h3",{class:"form_subtitle",style:{marginBottom:"0"}},"Для участников из регионов РФ, кроме г. Москвы")],-1),Ce={class:"form_container"},Ae=(0,r._)("h3",{class:"form_subtitle"},"Прилет/приезд в г. Москва",-1),xe={class:"form_container"},je=(0,r._)("h3",{class:"form_subtitle"},"Вылет/выезд из г. Москва",-1),Le={class:"btns"},Ue=(0,r.Uk)("Завершить регистрацию"),Re=(0,r.Uk)("Назад");function qe(e,a,l,t,o,s){const n=(0,r.up)("el-date-picker"),i=(0,r.up)("el-form-item"),d=(0,r.up)("el-col"),u=(0,r.up)("el-row"),p=(0,r.up)("el-option"),m=(0,r.up)("el-select"),c=(0,r.up)("el-input"),_=(0,r.up)("el-button"),g=(0,r.up)("el-form"),f=(0,r.Q2)("loading");return(0,r.wy)(((0,r.wg)(),(0,r.j4)(g,{ref:"routelRef","label-position":"top",rules:o.rules,model:o.route,"label-width":"120px"},{default:(0,r.w5)((()=>[ke,(0,r._)("div",Ce,[Ae,(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Дата и время прибытия (по московскому времени)",prop:"date_arrival"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.route.date_arrival,"onUpdate:modelValue":a[0]||(a[0]=e=>o.route.date_arrival=e),type:"datetime",placeholder:"гггг-мм-дд чч:мм:сс","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Вид транспорта",prop:"type_transport_arrival"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.route.type_transport_arrival,"onUpdate:modelValue":a[1]||(a[1]=e=>o.route.type_transport_arrival=e),placeholder:"Вид транспорта"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.typeOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Место прибытия (аэропорт/ ж/д вокзал, автовокзал и т.д.)",prop:"place_arrival"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.route.place_arrival,"onUpdate:modelValue":a[2]||(a[2]=e=>o.route.place_arrival=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Номер рейса самолета или номер поезда и вагона",prop:"number_arrival"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.route.number_arrival,"onUpdate:modelValue":a[3]||(a[3]=e=>o.route.number_arrival=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1})]),(0,r._)("div",xe,[je,(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Дата и время отъезда (по московскому времени)",prop:"date_departure"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{modelValue:o.route.date_departure,"onUpdate:modelValue":a[4]||(a[4]=e=>o.route.date_departure=e),type:"datetime",placeholder:"гггг-мм-дд чч:мм:сс","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Вид транспорта",prop:"type_transport_departure"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:o.route.type_transport_departure,"onUpdate:modelValue":a[5]||(a[5]=e=>o.route.type_transport_departure=e),placeholder:"Вид транспорта"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.typeOptions,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Место отбытия (аэропорт/ ж/д вокзал, автовокзал и т.д.)",prop:"place_departure"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.route.place_departure,"onUpdate:modelValue":a[6]||(a[6]=e=>o.route.place_departure=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1}),(0,r.Wm)(u,{class:"row-bg",justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:15},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:"Номер рейса самолета или номер поезда и вагона",prop:"number_departure"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:o.route.number_departure,"onUpdate:modelValue":a[7]||(a[7]=e=>o.route.number_departure=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(d,{span:3})])),_:1})]),(0,r._)("div",Le,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{type:"primary",onClick:a[8]||(a[8]=e=>s.onSubmit(this.$refs.routelRef))},{default:(0,r.w5)((()=>[Ue])),_:1})])),_:1}),(0,r.Wm)(_,{class:"btns_prev",type:"primary",plain:"",onClick:a[9]||(a[9]=a=>e.$emit("prevStep"))},{default:(0,r.w5)((()=>[Re])),_:1})])])),_:1},8,["rules","model"])),[[f,e.isLoadingPostReq]])}var De={emits:["nextStep","prevStep"],data(){return{route:{date_arrival:"",type_transport_arrival:"",place_arrival:"",number_arrival:"",date_departure:"",type_transport_departure:"",place_departure:"",number_departure:""},typeOptions:[{label:"Автобус",value:"1"},{label:"Поезд",value:"2"},{label:"Самолет",value:"3"},{label:"Автомобиль",value:"4"}],rules:{date_arrival:[{type:"date",required:!0,message:"Укажите дату",trigger:"change"}],date_departure:[{type:"date",required:!0,message:"Укажите дату",trigger:"change"}],type_transport_arrival:[{required:!0,message:"Выберите вид транспорта",trigger:"change"}],type_transport_departure:[{required:!0,message:"Выберите вид транспорта",trigger:"change"}],place_arrival:[{required:!0,message:"Введите данные",trigger:"blur"}],place_departure:[{required:!0,message:"Введите данные",trigger:"blur"}],number_arrival:[{required:!0,message:"Введите данные",trigger:"blur"}],number_departure:[{required:!0,message:"Введите данные",trigger:"blur"}]}}},computed:{...(0,_.Se)(["isLoadingPostReq"])},methods:{...(0,_.nv)(["SET_ROUTE","POST_REGISTER","POST_FILES"]),onSubmit(e){e&&e.validate((e=>{if(!e)return!1;this.SET_ROUTE(this.route),this.POST_REGISTER().then((e=>{if(e.data.error_message){const a=JSON.parse(e.data.error_message);for(let e in a)(0,L.bM)({title:"Ошибка",message:`${a[e]}`,type:"error"})}else this.POST_FILES(e.data.hash).then((()=>{(0,L.bM)({title:"Готово!",message:"Подтвердите почту",type:"success"}),this.$emit("nextStep")}))}))}))}}};const Me=(0,i.Z)(De,[["render",qe]]);var Fe=Me;const Ie={class:"end"},Ne=(0,r.uE)('<div class="end_block"><svg width="228" height="228" viewBox="0 0 228 228" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M101.389 150.658C100.427 150.683 99.4705 150.512 98.5766 150.157C97.6827 149.802 96.87 149.27 96.1874 148.592L62.3436 114.748C61.0067 113.411 60.2556 111.598 60.2556 109.707C60.2556 107.816 61.0067 106.003 62.3436 104.666C63.6806 103.329 65.4939 102.578 67.3846 102.578C69.2753 102.578 71.0886 103.329 72.4255 104.666L101.246 133.487L155.432 79.4081C156.094 78.7461 156.88 78.221 157.745 77.8628C158.61 77.5045 159.537 77.3201 160.473 77.3201C161.409 77.3201 162.336 77.5045 163.201 77.8628C164.066 78.221 164.852 78.7461 165.514 79.4081C166.176 80.0701 166.701 80.856 167.059 81.7209C167.417 82.5858 167.602 83.5129 167.602 84.4491C167.602 85.3852 167.417 86.3123 167.059 87.1772C166.701 88.0421 166.176 88.828 165.514 89.49L106.412 148.592C105.076 149.917 103.27 150.66 101.389 150.658V150.658Z" fill="#6D54DE"></path><path d="M114 213.75C94.5098 213.721 75.4551 207.983 59.1901 197.244C42.925 186.506 30.1621 171.238 22.4782 153.326C14.7943 135.415 12.526 115.644 15.9536 96.4579C19.3812 77.2715 28.3545 59.5095 41.7648 45.3663C55.1752 31.2232 72.4351 21.3185 91.4122 16.876C110.389 12.4334 130.252 13.6477 148.547 20.3687C166.842 27.0897 182.766 39.023 194.354 54.6943C205.942 70.3656 212.685 89.0883 213.75 108.549C213.857 110.434 213.212 112.284 211.956 113.693C210.7 115.103 208.937 115.956 207.052 116.066C206.114 116.124 205.173 115.995 204.284 115.688C203.395 115.38 202.576 114.899 201.874 114.273C201.171 113.647 200.6 112.888 200.193 112.04C199.785 111.193 199.55 110.272 199.5 109.333C198.533 91.4706 191.989 74.3612 180.787 60.4139C169.585 46.4666 154.291 36.384 137.058 31.5859C119.825 26.7877 101.521 27.5157 84.723 33.6673C67.9253 39.8188 53.4802 51.0841 43.4215 65.877C33.3629 80.6698 28.1974 98.245 28.6525 116.128C29.1076 134.011 35.1602 151.3 45.9582 165.563C56.7562 179.825 71.7556 190.341 88.8444 195.63C105.933 200.919 124.251 200.715 141.217 195.047C151.987 191.463 161.93 185.758 170.459 178.268C178.989 170.779 185.932 161.658 190.879 151.442C191.254 150.549 191.808 149.741 192.506 149.069C193.204 148.397 194.032 147.875 194.939 147.534C195.846 147.193 196.813 147.041 197.781 147.086C198.749 147.132 199.698 147.374 200.569 147.799C201.44 148.223 202.215 148.821 202.847 149.556C203.479 150.29 203.955 151.146 204.245 152.07C204.535 152.995 204.634 153.969 204.534 154.933C204.435 155.897 204.14 156.83 203.668 157.676C197.911 169.607 189.818 180.26 179.868 189.005C169.917 197.749 158.313 204.407 145.742 208.584C135.508 212.003 124.79 213.748 114 213.75V213.75Z" fill="#6D54DE"></path></svg><span class="end_text"> Регистрация завершена <br> Спасибо! <p class="end_text_lk"> Теперь вы можете зайти в свой <a class="end_link" href="https://sdo.mpgu.org/account/login">Личный кабинет</a></p></span></div>',1),ze=[Ne];function $e(e,a){return(0,r.wg)(),(0,r.iD)("div",Ie,ze)}const He={},Ge=(0,i.Z)(He,[["render",$e]]);var Ye=Ge,Be={components:{HeaderForm:b,StepsForm:E,PersonalData:q,SchoolForm:Y,OtherForm:ue,AccompanyingPerson:Oe,RouteForm:Fe,FormEnd:Ye},data(){return{step:0}},computed:{...(0,_.Se)(["isMoscow"]),isEnd(){return 4===this.step&&this.isMoscow||5===this.step}},methods:{nextStep(){this.step<5&&(this.step+=1)},prevStep(){this.step>0&&(this.step-=1)}}};const Ze=(0,i.Z)(Be,[["render",c]]);var Ke=Ze;const Je=[{path:"/",name:"formOlimp",component:Ke},{path:"/:catchAll(.*)*",redirect:{name:"formOlimp"}}],Xe=(0,p.p7)({history:(0,p.PO)(""),routes:Je});var Qe=Xe,ea=l(9669),aa=l.n(ea),la=(0,_.MT)({state:{contestant:{user:{surname:"",name:"",patronymic:"",sex:"",phone:"",birthday:"",email:"",password:""},document:{type:"",series:"",number:"",date_issue:"",authority:""},address:{region:"",zone:"",city:""},school:{full_name:"",short_name:"",status_olympic:"",mark_olympic:"",grade_number:"",grade_letter:"",grade_performs:"",fio_teacher:"",place_work:"",post:"",academic_degree:""},additional:{size:"",is_allergy:0,note_allergy:"",is_voz:0,is_need_conditions:0,note_conditions:"",note_special:""},accompanying_persons:{list:[]},route:{date_arrival:"",type_transport_arrival:"",place_arrival:"",number_arrival:"",date_departure:"",type_transport_departure:"",place_departure:"",number_departure:""}},photo:"",agree_file:"",accompanying:{fio:"",sex:"",birthday:"",place_birth:"",phone:"",email:"",place_work:"",post:"",agree_file:""},gerionsList:[],accList:[],isLoadingPostReq:!1,isLoadingBlock:!1,checkURL:"https://api.sdotest.mpgu.org/literature/"},mutations:{SET_REGIONS_TO_STATE(e,a){e.gerionsList=a},SET_ACCLIST_TO_STATE(e,a){e.accList=a},SET_USER(e,a){e.contestant.user=a},SET_DOCUMENT(e,a){e.contestant.document=a},SET_ADDRESS(e,a){e.contestant.address=a},SET_PHOTO(e,a){e.photo=a},SET_SCHOOL_TO_STATE(e,a){e.contestant.school=a},SET_ADDITIONAL_TO_STATE(e,a){e.contestant.additional=a},SET_AGREEFILE_TO_STATE(e,a){e.agree_file=a},SET_ACCOMP_PEOPLE_TO_STATE(e,a){e.contestant.accompanying_persons.list=a},SET_ACC_PER(e,a){e.accompanying=a.accompanying},SET_ROUTE_TO_STATE(e,a){e.route=a}},actions:{GET_PHONE({state:e},a){return aa()(`${e.checkURL}exists-phone`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},data:{phone:a}}).then((e=>e)).catch((e=>e))},GET_EMAIL({state:e},a){return aa()(`${e.checkURL}exists-email`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},data:{email:a}}).then((e=>e)).catch((e=>e))},GET_REGIONS({commit:e}){return this.state.isLoadingBlock=!0,aa()("https://api.sdotest.mpgu.org/literature/regions",{method:"GET"}).then((a=>(e("SET_REGIONS_TO_STATE",a.data),this.state.isLoadingBlock=!1,a))).catch((e=>e))},GET_ACC_PER({commit:e,state:a}){return a.isLoadingBlock=!0,aa()("https://api.sdotest.mpgu.org/literature/persons",{method:"GET"}).then((l=>(e("SET_ACCLIST_TO_STATE",l.data.data),a.isLoadingBlock=!1,l))).catch((e=>e))},POST_ACC_PER({state:e},a){return e.isLoadingPostReq=!0,aa().post("https://api.sdotest.mpgu.org/literature/add-personal",a).then((a=>(e.isLoadingPostReq=!1,a))).catch((a=>(e.isLoadingPostReq=!1,a)))},POST_REGISTER({state:e}){return e.isLoadingPostReq=!0,aa().post("https://api.sdotest.mpgu.org/literature/register",e.contestant).then((a=>(e.isLoadingPostReq=!1,a))).catch((a=>(e.isLoadingPostReq=!1,a)))},POST_FILES({state:e},a){e.isLoadingPostReq=!0;const l=new FormData;return l.append("photo",e.photo),l.append("agree_file",e.agree_file),aa().post(`https://api.sdotest.mpgu.org/literature/send-file?hash=${a}`,l).then((a=>(e.isLoadingPostReq=!1,a))).catch((a=>(e.isLoadingPostReq=!1,a)))},SET_PESONAL_DATA({commit:e},a){e("SET_USER",a.user),e("SET_DOCUMENT",a.document),e("SET_ADDRESS",a.address),e("SET_PHOTO",a.photo)},SET_SCHOOL({commit:e},a){e("SET_SCHOOL_TO_STATE",a.school)},SET_ADDITIONAL({commit:e},a){e("SET_ADDITIONAL_TO_STATE",a.additional),e("SET_AGREEFILE_TO_STATE",a.agree_file)},SET_ACCOMP_PEOPLE({commit:e},a){e("SET_ACCOMP_PEOPLE_TO_STATE",a.list)},SET_ROUTE({commit:e},a){e("SET_ROUTE_TO_STATE",a)}},getters:{isLoadingPostReq(e){return e.isLoadingPostReq},isLoadingBlock(e){return e.isLoadingBlock},accList(e){return e.accList},regions(e){return e.gerionsList},isMoscow(e){const a=e.contestant.address.region,l=e.contestant.address.city.toLowerCase();return"77"===a||l.includes("москва")}}}),ta=l(2346);const oa=(0,t.ri)(u);oa.use(o.Z),oa.use(Qe),oa.use(la),oa.use(ta.Z,aa()),oa.provide("axios",aa()),oa.mount("#app")}},a={};function l(t){var o=a[t];if(void 0!==o)return o.exports;var r=a[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.m=e,function(){l.amdO={}}(),function(){var e=[];l.O=function(a,t,o,r){if(!t){var s=1/0;for(u=0;u<e.length;u++){t=e[u][0],o=e[u][1],r=e[u][2];for(var n=!0,i=0;i<t.length;i++)(!1&r||s>=r)&&Object.keys(l.O).every((function(e){return l.O[e](t[i])}))?t.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(u--,1);var d=o();void 0!==d&&(a=d)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,o,r]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){var e,a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if("object"===typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&"function"===typeof t.then)return t}var r=Object.create(null);l.r(r);var s={};e=e||[null,a({}),a([]),a(a)];for(var n=2&o&&t;"object"==typeof n&&!~e.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(e){s[e]=function(){return t[e]}}));return s["default"]=function(){return t},l.d(r,s),r}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(a,t){return l.f[t](e,a),a}),[]))}}(),function(){l.u=function(e){return"js/"+e+"."+{4:"917885eb",120:"3766ebdf",856:"2c047dde"}[e]+".js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="vosh:";l.l=function(t,o,r,s){if(e[t])e[t].push(o);else{var n,i;if(void 0!==r)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var p=d[u];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==a+r){n=p;break}}n||(i=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",a+r),n.src=t),e[t]=[o];var m=function(a,l){n.onerror=n.onload=null,clearTimeout(c);var o=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(l)})),a)return a(l)},c=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),i&&document.head.appendChild(n)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p=""}(),function(){var e={143:0};l.f.j=function(a,t){var o=l.o(e,a)?e[a]:void 0;if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(l,t){o=e[a]=[l,t]}));t.push(o[2]=r);var s=l.p+l.u(a),n=new Error,i=function(t){if(l.o(e,a)&&(o=e[a],0!==o&&(e[a]=void 0),o)){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;n.message="Loading chunk "+a+" failed.\n("+r+": "+s+")",n.name="ChunkLoadError",n.type=r,n.request=s,o[1](n)}};l.l(s,i,"chunk-"+a,a)}},l.O.j=function(a){return 0===e[a]};var a=function(a,t){var o,r,s=t[0],n=t[1],i=t[2],d=0;if(s.some((function(a){return 0!==e[a]}))){for(o in n)l.o(n,o)&&(l.m[o]=n[o]);if(i)var u=i(l)}for(a&&a(t);d<s.length;d++)r=s[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(u)},t=self["webpackChunkvosh"]=self["webpackChunkvosh"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(2583)}));t=l.O(t)})();
//# sourceMappingURL=app.d066559a.js.map